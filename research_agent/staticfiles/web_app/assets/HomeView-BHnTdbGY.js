import{c as u,o,a as e,h as i,d as l,m as M,u as z,r as m,b as _,F as w,n as L,e as q,v as R,p as D,w as E,t as g,g as b,q as k,i as $,l as V,k as A,j as I,s as B,T as H,x as O,y as U}from"./main-BWyXzgnu.js";import{c as h}from"./createLucideIcon-CPiZnGZU.js";/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=h("BotIcon",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=h("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=h("ChevronLeftIcon",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=h("ChevronRightIcon",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=h("ChevronUpIcon",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=h("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=h("FileTextIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=h("GlobeIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=h("LibraryIcon",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=h("Loader2Icon",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=h("LogOutIcon",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=h("MessageSquarePlusIcon",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=h("MessageSquareIcon",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=h("SendIcon",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=h("SettingsIcon",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=h("UserIcon",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),te={class:"flex flex-col h-full"},se={class:"p-4"},oe={class:"w-full flex items-center gap-2 bg-accent hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors shadow-sm mb-2"},ae={class:"flex-1 overflow-y-auto bg-white"},ne={class:"group flex items-start gap-3 p-3 border-b border-slate-100 hover:bg-slate-50 cursor-pointer transition-colors"},le={class:"group flex items-start gap-3 p-3 border-b border-slate-100 hover:bg-slate-50 cursor-pointer transition-colors"},re={__name:"SidebarLeft",setup(r){return(x,t)=>(o(),u("div",te,[e("div",se,[e("button",oe,[i(l(J),{class:"w-4 h-4"}),t[0]||(t[0]=e("span",null,"New Research Direction",-1))])]),e("div",ae,[t[3]||(t[3]=e("div",{class:"px-4 py-2 text-[10px] font-bold text-slate-400 uppercase tracking-wider bg-slate-50 border-b border-slate-100"},"Recent",-1)),e("div",ne,[i(l(S),{class:"w-4 h-4 text-slate-400 mt-0.5 group-hover:text-accent transition-colors"}),t[1]||(t[1]=M('<div class="flex-1 min-w-0"><div class="flex items-center justify-between mb-0.5"><div class="text-sm font-medium text-slate-700 truncate pr-2">Transformer Architecture Research</div><span class="text-[10px] text-slate-400 whitespace-nowrap">2h</span></div><div class="text-xs text-slate-500 truncate">Discussion about attention mechanisms...</div></div>',1))]),e("div",le,[i(l(S),{class:"w-4 h-4 text-slate-400 mt-0.5 group-hover:text-accent transition-colors"}),t[2]||(t[2]=M('<div class="flex-1 min-w-0"><div class="flex items-center justify-between mb-0.5"><div class="text-sm font-medium text-slate-700 truncate pr-2">LLM Evaluation Metrics</div><span class="text-[10px] text-slate-400 whitespace-nowrap">1d</span></div><div class="text-xs text-slate-500 truncate">Comparing BLEU vs ROUGE scores...</div></div>',1))])])]))}};function ie(){const{getCsrfToken:r}=z();return{chat:async t=>{const s=await fetch("/api/chat/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":r()},credentials:"include",body:JSON.stringify({message:t})}),n=await s.json();if(!s.ok)throw new Error(n.error||"Chat request failed");return n}}}const ce={class:"flex-1 overflow-y-auto p-6 space-y-8"},de={key:0,class:"flex items-center justify-center h-full"},ue={class:"text-center text-slate-400"},he={key:0,class:"flex gap-4 max-w-3xl mx-auto"},xe={class:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center shrink-0"},ve={class:"flex-1 space-y-2"},pe={class:"text-slate-800 leading-relaxed"},me={key:1,class:"flex gap-4 max-w-3xl mx-auto"},fe={class:"w-8 h-8 rounded-full bg-accent flex items-center justify-center shrink-0 shadow-sm"},ge={class:"flex-1 space-y-4"},ye={class:"text-slate-800 leading-relaxed whitespace-pre-wrap"},be={key:1,class:"flex gap-4 max-w-3xl mx-auto"},we={class:"w-8 h-8 rounded-full bg-accent flex items-center justify-center shrink-0 shadow-sm"},_e={class:"p-4 border-t border-slate-200 bg-white/95 backdrop-blur"},ke={class:"max-w-3xl mx-auto relative"},$e=["onKeydown"],Me={__name:"ChatArea",emits:["add-source"],setup(r,{emit:x}){const{chat:t}=ie(),s=m(""),n=m([]),p=m(!1),d=async()=>{if(!s.value.trim()||p.value)return;const c=s.value.trim();s.value="",n.value.push({role:"user",content:c}),p.value=!0;try{const a=await t(c);n.value.push({role:"assistant",content:a.response})}catch(a){n.value.push({role:"assistant",content:`Error: ${a.message}`})}finally{p.value=!1}};return(c,a)=>(o(),u(w,null,[e("div",ce,[n.value.length===0?(o(),u("div",de,[e("div",ue,[i(l(C),{class:"w-12 h-12 mx-auto mb-4 opacity-50"}),a[1]||(a[1]=e("p",null,"Ask a research question to get started",-1))])])):_("",!0),(o(!0),u(w,null,L(n.value,(v,f)=>(o(),u(w,{key:f},[v.role==="user"?(o(),u("div",he,[e("div",xe,[i(l(j),{class:"w-5 h-5 text-slate-600"})]),e("div",ve,[a[2]||(a[2]=e("div",{class:"font-medium text-slate-700"},"You",-1)),e("div",pe,g(v.content),1)])])):(o(),u("div",me,[e("div",fe,[i(l(C),{class:"w-5 h-5 text-white"})]),e("div",ge,[a[3]||(a[3]=e("div",{class:"font-medium text-accent"},"Research Agent",-1)),e("div",ye,g(v.content),1)])]))],64))),128)),p.value?(o(),u("div",be,[e("div",we,[i(l(Y),{class:"w-5 h-5 text-white animate-spin"})]),a[4]||(a[4]=e("div",{class:"flex-1 space-y-4"},[e("div",{class:"font-medium text-accent"},"Research Agent"),e("div",{class:"text-slate-400"},"Thinking...")],-1))])):_("",!0)]),e("div",_e,[e("div",ke,[q(e("textarea",{"onUpdate:modelValue":a[0]||(a[0]=v=>s.value=v),onKeydown:D(E(d,["prevent"]),["enter"]),placeholder:"Ask a research question...",class:"w-full bg-slate-50 text-slate-800 border border-slate-200 rounded-xl pl-4 pr-12 py-3 focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent resize-none h-[52px] max-h-32 scrollbar-hide placeholder:text-slate-400"},null,40,$e),[[R,s.value]]),e("button",{onClick:d,class:"absolute right-2 top-2 p-1.5 bg-accent hover:bg-blue-700 text-white rounded-lg transition-colors shadow-sm"},[i(l(Q),{class:"w-4 h-4"})])]),a[5]||(a[5]=e("div",{class:"text-center text-xs text-slate-400 mt-2"}," AI can make mistakes. Please verify important information. ",-1))])],64))}},Ce={class:"group border-b border-slate-100 hover:bg-slate-50 transition-colors"},Se={class:"group border-b border-slate-100 hover:bg-slate-50 transition-colors"},ze={class:"py-4 px-3 flex items-start gap-3"},Le={class:"mt-0.5 text-slate-400"},qe={class:"flex-1 min-w-0"},Ie={class:"flex items-start justify-between gap-2"},Te=["title"],je={class:"text-[10px] text-slate-400 whitespace-nowrap shrink-0"},Re={class:"flex items-center justify-between mt-2"},De=["title"],Ee={class:"flex items-center gap-3"},Ve={class:"text-slate-400 hover:text-accent transition-colors",title:"Download"},Ae={key:0,class:"px-3 pb-3 pl-10"},Be={class:"text-xs text-slate-600 leading-relaxed bg-slate-50 p-2 rounded border border-slate-100"},He={__name:"SourceItem",props:{source:{type:Object,required:!0}},setup(r){const x=r,t=m(!1),s=m(x.source.inContext),n=()=>{s.value=!s.value};return(p,d)=>(o(),u("div",Ce,[e("div",Se,[e("div",ze,[e("div",Le,[r.source.type==="PDF"?(o(),b(l(G),{key:0,class:"w-4 h-4"})):(o(),b(l(K),{key:1,class:"w-4 h-4"}))]),e("div",qe,[e("div",Ie,[e("h3",{class:"font-medium text-slate-800 text-sm leading-tight truncate pr-2",title:r.source.title},g(r.source.title),9,Te),e("span",je,g(r.source.date),1)]),e("div",Re,[e("p",{class:"text-xs text-slate-500 truncate max-w-[120px]",title:r.source.authors},g(r.source.authors),9,De),e("div",Ee,[e("button",Ve,[i(l(W),{class:"w-3.5 h-3.5"})]),e("button",{onClick:n,class:k(["flex items-center gap-1.5 text-xs font-medium transition-colors",s.value?"text-green-600":"text-slate-400 hover:text-slate-600"]),title:"Toggle Context"},[e("div",{class:k(["w-2 h-2 rounded-full",s.value?"bg-green-500":"bg-slate-300"])},null,2),d[1]||(d[1]=$(" Context ",-1))],2),e("button",{onClick:d[0]||(d[0]=c=>t.value=!t.value),class:"flex items-center gap-1 text-xs font-medium text-slate-400 hover:text-slate-600 transition-colors"},[d[2]||(d[2]=e("span",null,"Summary",-1)),t.value?(o(),b(l(P),{key:0,class:"w-3.5 h-3.5"})):(o(),b(l(T),{key:1,class:"w-3.5 h-3.5"}))])])])])]),t.value?(o(),u("div",Ae,[e("div",Be,g(r.source.summary),1)])):_("",!0)])]))}},Oe={class:"flex flex-col h-full"},Ue={class:"p-4 border-b border-slate-200 flex items-center gap-2 bg-slate-50"},Fe={class:"ml-auto text-xs bg-white border border-slate-200 text-slate-500 px-2 py-0.5 rounded-full shadow-sm"},Ne={class:"flex-1 overflow-y-auto bg-white"},Pe={__name:"SidebarRight",props:{sources:{type:Array,required:!0}},setup(r){return(x,t)=>(o(),u("div",Oe,[e("div",Ue,[i(l(X),{class:"w-5 h-5 text-accent"}),t[0]||(t[0]=e("h2",{class:"font-semibold text-slate-700"},"Sources Database",-1)),e("span",Fe,g(r.sources.length),1)]),e("div",Ne,[(o(!0),u(w,null,L(r.sources,s=>(o(),b(He,{key:s.id,source:s},null,8,["source"]))),128))])]))}},We={class:"relative"},Ge={class:"w-8 h-8 bg-slate-200 rounded-full flex items-center justify-center"},Ke={class:"text-sm font-medium text-slate-700"},Xe={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-50"},Ye={__name:"UserMenu",setup(r){const x=V(),{user:t,logout:s}=z(),n=m(!1),p=async()=>{await s(),x.push("/login")};return(d,c)=>{var v;const a=A("router-link");return o(),u(w,null,[e("div",We,[e("button",{onClick:c[0]||(c[0]=f=>n.value=!n.value),class:"flex items-center gap-2 px-3 py-1.5 hover:bg-slate-100 rounded-lg transition-colors"},[e("div",Ge,[i(l(j),{class:"w-4 h-4 text-slate-600"})]),e("span",Ke,g((v=l(t))==null?void 0:v.username),1),i(l(T),{class:"w-4 h-4 text-slate-400"})]),n.value?(o(),u("div",Xe,[i(a,{to:"/settings",onClick:c[1]||(c[1]=f=>n.value=!1),class:"flex items-center gap-2 px-4 py-2 text-sm text-slate-700 hover:bg-slate-50"},{default:I(()=>[i(l(ee),{class:"w-4 h-4"}),c[3]||(c[3]=$(" Settings ",-1))]),_:1}),e("button",{onClick:p,class:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left"},[i(l(Z),{class:"w-4 h-4"}),c[4]||(c[4]=$(" Sign Out ",-1))])])):_("",!0)]),n.value?(o(),u("div",{key:0,onClick:c[2]||(c[2]=f=>n.value=!1),class:"fixed inset-0 z-40"})):_("",!0)],64)}}},Ze=(r,x)=>{const t=r.__vccOpts||r;for(const[s,n]of x)t[s]=n;return t},Je={class:"flex flex-col h-screen bg-primary text-slate-900 font-sans"},Qe={class:"h-14 border-b border-slate-200 flex items-center justify-between px-4 bg-white shrink-0 z-10"},et={class:"flex items-center"},tt=["title"],st={class:"flex-1 flex overflow-hidden relative"},ot={class:"w-64 border-r border-slate-200 bg-slate-50 flex flex-col shrink-0"},at={class:"flex-1 flex flex-col min-w-0 bg-white relative z-0"},nt={__name:"HomeView",setup(r){const x=m([{id:1,title:"Attention Is All You Need",authors:"Vaswani et al.",date:"2017",type:"PDF",summary:"The dominant sequence transduction models are based on complex recurrent or convolutional neural networks that include an encoder and a decoder. The best performing models also connect the encoder and decoder through an attention mechanism. We propose a new simple network architecture, the Transformer, based solely on attention mechanisms, dispensing with recurrence and convolutions entirely.",inContext:!0},{id:2,title:"BERT: Pre-training of Deep Bidirectional Transformers for Language Understanding",authors:"Devlin et al.",date:"2018",type:"PDF",summary:"We introduce a new language representation model called BERT, which stands for Bidirectional Encoder Representations from Transformers. Unlike recent language representation models, BERT is designed to pre-train deep bidirectional representations from unlabeled text by jointly conditioning on both left and right context in all layers.",inContext:!1}]),t=f=>{x.value.push({id:Date.now(),...f,inContext:!0})},s=m(!0),n=()=>{s.value=!s.value},p=m(384),d=m(!1),c=()=>{d.value=!0,document.addEventListener("mousemove",a),document.addEventListener("mouseup",v),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},a=f=>{if(!d.value)return;const y=window.innerWidth-f.clientX;if(y<100){p.value=0;return}y>=250&&y<=800&&(p.value=y)},v=()=>{d.value=!1,document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",v),document.body.style.cursor="",document.body.style.userSelect=""};return B(()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",v)}),(f,y)=>(o(),u("div",Je,[e("header",Qe,[e("div",et,[e("button",{onClick:n,class:"p-2 hover:bg-slate-100 rounded-lg mr-3 text-slate-600 transition-colors",title:s.value?"Close Sidebar":"Open Sidebar"},[s.value?(o(),b(l(F),{key:0,class:"w-5 h-5"})):(o(),b(l(N),{key:1,class:"w-5 h-5"}))],8,tt),y[0]||(y[0]=e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-8 h-8 bg-accent rounded-lg flex items-center justify-center text-white font-bold shadow-sm"}," RA"),e("h1",{class:"text-lg font-semibold tracking-wide text-slate-800"},"Research Agent")],-1))]),i(Ye)]),e("main",st,[i(H,{name:"slide-fade"},{default:I(()=>[q(e("aside",ot,[i(re)],512),[[U,s.value]])]),_:1}),e("section",at,[i(Me,{onAddSource:t})]),e("div",{class:k(["w-1 cursor-col-resize transition-colors z-20 flex items-center justify-center group",d.value?"bg-accent":"bg-slate-200 hover:bg-accent"]),onMousedown:c},[e("div",{class:k(["h-8 w-0.5 rounded-full transition-colors",d.value?"bg-white":"bg-slate-300 group-hover:bg-white"])},null,2)],34),e("aside",{class:"border-l border-slate-200 bg-slate-50 flex flex-col shrink-0 overflow-hidden",style:O({width:p.value+"px"})},[i(Pe,{sources:x.value},null,8,["sources"])],4)])]))}},it=Ze(nt,[["__scopeId","data-v-9427828c"]]);export{it as default};
