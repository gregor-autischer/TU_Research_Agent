import{u as D,r as c,c as u,a as e,d as s,l as E,h as y,b as p,q as K,g as v,i as x,t as m,e as N,f as j,o as a}from"./main-Ddm2oGOr.js";import{c as i}from"./createLucideIcon-DHRHFEZz.js";import{E as q,a as z}from"./eye-C4S0hAHT.js";/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=i("ArrowLeftIcon",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=i("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=i("KeyIcon",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=i("SaveIcon",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=i("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),R={class:"min-h-screen bg-slate-50"},U={class:"h-14 border-b border-slate-200 flex items-center px-4 bg-white"},$={class:"max-w-2xl mx-auto p-6"},Y={class:"bg-white rounded-xl shadow-sm border border-slate-200 p-6"},F={class:"flex items-center gap-3 mb-4"},G={class:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center"},J={key:0,class:"mb-4 p-3 bg-green-50 text-green-700 rounded-lg text-sm"},Q={key:1,class:"mb-4 p-3 bg-red-50 text-red-600 rounded-lg text-sm"},W={class:"space-y-4"},X={class:"block text-sm font-medium text-slate-700 mb-1"},Z={class:"relative"},ee=["type"],te={class:"flex gap-3"},se=["disabled"],ae=["disabled"],ie={__name:"SettingsView",setup(oe){const P=E(),{user:o,saveApiKey:V,deleteApiKey:C,error:b}=D(),l=c(""),d=c(!1),r=c(!1),n=c(""),M=async()=>{if(!l.value.trim())return;r.value=!0,n.value="";const f=await V(l.value.trim());r.value=!1,f&&(n.value="API key saved successfully!",l.value="",setTimeout(()=>{n.value=""},3e3))},S=async()=>{confirm("Are you sure you want to delete your API key?")&&(r.value=!0,await C(),r.value=!1)};return(f,t)=>{var k,g,_,w,A,I;return a(),u("div",R,[e("header",U,[e("button",{onClick:t[0]||(t[0]=h=>s(P).push("/")),class:"p-2 hover:bg-slate-100 rounded-lg mr-3 text-slate-600 transition-colors"},[y(s(B),{class:"w-5 h-5"})]),t[3]||(t[3]=e("h1",{class:"text-lg font-semibold text-slate-800"},"Settings",-1))]),e("div",$,[e("div",Y,[e("div",F,[e("div",G,[y(s(T),{class:"w-5 h-5 text-amber-600"})]),t[4]||(t[4]=e("div",null,[e("h2",{class:"text-lg font-semibold text-slate-800"},"OpenAI API Key"),e("p",{class:"text-sm text-slate-500"},"Required for chat functionality")],-1))]),e("div",{class:K(["mb-4 p-3 rounded-lg",(k=s(o))!=null&&k.has_api_key?"bg-green-50":"bg-amber-50"])},[e("p",{class:K(["text-sm",(g=s(o))!=null&&g.has_api_key?"text-green-700":"text-amber-700"])},[(_=s(o))!=null&&_.has_api_key?(a(),v(s(L),{key:0,class:"w-4 h-4 inline mr-1"})):p("",!0),x(" "+m((w=s(o))!=null&&w.has_api_key?"API key is configured":"No API key configured"),1)],2)],2),n.value?(a(),u("div",J,m(n.value),1)):p("",!0),s(b)?(a(),u("div",Q,m(s(b)),1)):p("",!0),e("div",W,[e("div",null,[e("label",X,m((A=s(o))!=null&&A.has_api_key?"Update API Key":"Enter API Key"),1),e("div",Z,[N(e("input",{"onUpdate:modelValue":t[1]||(t[1]=h=>l.value=h),type:d.value?"text":"password",class:"w-full px-4 py-2 pr-10 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent font-mono text-sm text-slate-800 placeholder:text-slate-400",placeholder:"sk-..."},null,8,ee),[[j,l.value]]),e("button",{type:"button",onClick:t[2]||(t[2]=h=>d.value=!d.value),class:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600"},[d.value?(a(),v(s(q),{key:0,class:"w-5 h-5"})):(a(),v(s(z),{key:1,class:"w-5 h-5"}))])]),t[5]||(t[5]=e("p",{class:"text-xs text-slate-400 mt-1"}," Your API key is stored securely and never shared ",-1))]),e("div",te,[e("button",{onClick:M,disabled:!l.value.trim()||r.value,class:"flex-1 bg-accent hover:bg-blue-700 text-white font-medium py-2 rounded-lg transition-colors flex items-center justify-center gap-2 disabled:opacity-50"},[y(s(H),{class:"w-4 h-4"}),t[6]||(t[6]=x(" Save API Key ",-1))],8,se),(I=s(o))!=null&&I.has_api_key?(a(),u("button",{key:0,onClick:S,disabled:r.value,class:"px-4 py-2 border border-red-200 text-red-600 hover:bg-red-50 rounded-lg transition-colors flex items-center gap-2"},[y(s(O),{class:"w-4 h-4"}),t[7]||(t[7]=x(" Delete ",-1))],8,ae)):p("",!0)])])])])])}}};export{ie as default};
